<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Register</title>
    <script>
        function updateFields() {
            const identity = document.getElementById("identity").value;
            const gidField = document.getElementById("GidField");
            const ridField = document.getElementById("RidField");
            const didField = document.getElementById("DidField");

            // 顯示或隱藏欄位
            gidField.style.display = identity === "客戶" ? "block" : "none";
            ridField.style.display = identity === "餐廳" ? "block" : "none";
            didField.style.display = identity === "外送員" ? "block" : "none";

            // 確保未選中的欄位不會傳送值
            document.getElementById("Gid").required = identity === "客戶";
            document.getElementById("Rid").required = identity === "餐廳";
            document.getElementById("Did").required = identity === "外送員";
        }
    </script>
</head>
<body>
    <p>註冊</p>
    <hr />
    <form method="post" action="/register">
        <label>角色:</label>
        <select id="identity" name="identity" onchange="updateFields()" required>
            <option value="" selected disabled>請選擇角色</option>
            <option value="客戶">客戶</option>
            <option value="餐廳">餐廳</option>
            <option value="外送員">外送員</option>
        </select>
        
        <br>
        
        <label>帳號:</label>
        <input name="id" type="text" required /> <br>

        <label>密碼:</label>
        <input name="pw" type="password" required /> <br><br>

        <button type="submit" onclick="return confirm('註冊成功')">確認</button>
    </form>

    <a href="/loginPage">回到登入頁面</a>
</body>
</html>